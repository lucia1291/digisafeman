
/* GAME 1 --------------------------------------------------------------------*/

:root{ --accent:#DA0037; --ok:#2e7d32; --ko:#c62828; --card:#ffffff; --muted:#848174; }
    *{box-sizing:border-box}
     .wrap{max-width:800px; margin:0 auto; min-width:340px; background: linear-gradient(to bottom, #d8c1a6, #ffffff); 
	 background-image: url("../../resources/games/backgroundquiz.png");
    background-repeat: no-repeat;
    background-size: cover;
    background-attachment: fixed;}

    /* STATUS BAR */
    #statusBar{position:sticky; top:0; display:flex; justify-content:flex-end; align-items:center; gap:20px; padding:8px 16px; z-index:2; box-shadow:0 1px 0 rgba(0,0,0,.1); border-radius: 0px 0px 10px 10px;}
    .pill{display:flex; align-items:center; justify-content:center; width:80px; height:32px; border-radius:10px; background:#fff; box-shadow:0 2px 6px rgba(0,0,0,.15)}
    .pill span{padding-left:25px; font-weight:800}
    .pill img{width:26px; height:26px; margin-left:10px}
	
	.backgame img{position: absolute; width:36px; height:60px; left:16px; top:-7px;}

    /* CONTAINER */
    .screen{min-height:100dvh; padding:24px 16px 80px;}
    .header{display:flex; align-items:center; justify-content:center; margin:4px 0 12px}
    .title{font-weight:900; font-size:20px}

    /* CARD DOMANDA */
    .card{background:var(--card); border-radius:12px; box-shadow:0 8px 24px rgba(0,0,0,.15); padding:16px; max-width:560px; margin:0 auto}
    .q-image{width:100%; height:100px; border-radius:10px; overflow:hidden; background:#eee; margin-bottom:12px}
    .q-image img{width:100%; height:100%; object-fit:cover}
    .question{font-weight:800; font-size:18px; margin:8px 0 14px}
    .answers{display:flex; flex-direction:column; gap:10px}
    .btn{border:0; border-radius:10px; padding:14px 12px; font-weight:700; background:#4a4a44; color:#fff; cursor:pointer; box-shadow:0 3px 8px rgba(0,0,0,.2); transition:transform .05s ease, filter .2s}
    .btn:active{transform:scale(.98)}
    .btn[disabled]{opacity:.7; cursor:not-allowed}
    .btn.ok{background:var(--ok)}
    .btn.ko{background:var(--ko)}

    .footer{display:flex; gap:10px; justify-content:center; margin-top:14px}
    .ghost{background:#fff; color:#111; border:1px solid #ccc}

    /* PROGRESSO */
    .progress{display:flex; justify-content:center; align-items:center; gap:6px; margin:14px 0}
    .dot{width:8px; height:8px; border-radius:50%; background:#bbb}
    .dot.active{background:#333}

    /* ESITO FINALE */
    .summary{max-width:560px; margin:0 auto; text-align:center}
    .summary h2{font-size:24px; margin:0 0 12px}
    .meter{height:10px; background:#eee; border-radius:999px; overflow:hidden; margin:50px 0 20px}
    .meter > i{display:block; height:100%; width:0; background:var(--accent)}
    .stars{display:flex; justify-content:center; gap:8px; margin:10px 0}
    .star{width:20px; aspect-ratio:1/1; background:var(--muted); clip-path:polygon(50% 0%,61% 35%,98% 35%,68% 57%,79% 91%,50% 70%,21% 91%,32% 57%,2% 35%,39% 35%); box-shadow:0 2px 0 rgba(0,0,0,.25)}
    .star.gold{background:gold}

    .actions{display:flex; gap:10px; justify-content:center; margin-top:14px}
    .hidden{display:none !important}
	
	#scoreLine {font-size:20px;}
	#winLose {width:100%; height:180px; margin-bottom:10px;}
	/* Effetto fade + bounce */
	.winlose-anim {
		animation: fadeBounce 0.3s ease-in forwards;
	}
	@keyframes fadeBounce {
		0% {
			opacity: 0;
			transform: scale(0.4);
		}
		60% {
			opacity: 1;
			transform: scale(1.15);
		}
		80% {
			transform: scale(0.92);
		}
		100% {
			transform: scale(1);
		}
	}
	
	
	/* --- HELP ROUND BUTTON --- */
.help-round {
    width: 34px;
    height: 34px;
    border-radius: 50%;
    background: none;
    color: #fff;
    font-size: 20px;
    font-weight: bold;
    border: 2px solid #fff;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;

    /* questa riga lo spinge tutto a sinistra */
    margin-right: auto;
}

/* --- OVERLAY AIUTO --- */
.help-overlay {
    position: fixed;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2000;
}

.help-overlay[hidden] {
    display: none !important;
}

.help-backdrop {
    position: absolute;
    inset: 0;
    background: rgba(0,0,0,0.45);
    backdrop-filter: blur(4px);
}

.help-card {
    position: relative;
    background: white;
    padding: 16px;
    border-radius: 10px;
    max-width: 90%;
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
    animation: helpFade 0.25s ease-out;
    height: inherit;
	overflow-y: auto; 
	max-height: 80vh;
}

.help-card h2 {
    margin-top: 0;
    font-size: 22px;
    font-weight: 800;
    text-align: center;
	margin-bottom: 20px;
}

.help-card p {
    font-size: 16px;
    line-height: 1.45;
}

.help-close {
	height: 48px;
    display: block;
    margin: 0 auto;
    padding: 8px 18px;
    font-size: 16px;
    border-radius: 8px;
    border: none;
    background: #DA0037;
    color: white;
    font-weight: bold;
    cursor: pointer;
    box-shadow: 0 3px 6px rgba(0,0,0,0.2);
}

/* Animazione */
@keyframes helpFade {
    from { opacity: 0; transform: scale(0.86); }
    to   { opacity: 1; transform: scale(1); }
}

.tutorialImage {
	width:100%;
	margin-bottom: 20px;
}


/* GAME 2 --------------------------------------------------------------------*/

.image-shell {
      position: relative;
      height: 500px;
      border-radius: 14px;
      overflow: hidden;
      background: #222;
    }

    #sceneImage {
      width: 100%;
      height: 100%;
      object-fit: contain;
      display: block;
      pointer-events: none;
      user-select: none;
    }

    .image-tag {
      position: absolute;
      top: 8px;
      right: 8px;
      background: #ffffff;
      border-radius: 12px;
      padding: 4px 8px;
      display: inline-flex;
      align-items: center;
      gap: 4px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.25);
    }

    .image-tag .icon {
      width: 32px;
		height: 32px;
		border-radius: 999px;
		background: #ff1744;
		color: #fff;
		display: flex;
		align-items: center;
		justify-content: center;
    }

    /* HOTSPOT INVISIBILI (cliccabili) */
    .hotspot {
      position: absolute;
      width: 36px;
      height: 36px;
      border-radius: 999px;
      background: transparent;
      border: none;
      transform: translate(-50%, -50%);
      cursor: pointer;
      opacity: 0;
    }

    .hotspot::before {
      content: "";
    }

    .hotspot.found {
      opacity: 1;
      background: #ff0266;
      border: 3px solid #ffffff;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
      transition: opacity .15s ease, transform .15s ease;
    }

    .hotspot.found::before {
      content: "⚠";
      color: #fff;
      font-size: 18px;
    }

    /* POPUP "NON È QUI" / "CI SEI QUASI" */
    .hint-popup {
      position: absolute;
      background: rgba(0,0,0,0.8);
      color: #fff;
      padding: 4px 8px;
      font-size: 11px;
      border-radius: 8px;
      pointer-events: none;
      transform: translate(-50%, -130%);
      opacity: 0;
      animation: fadeHint 1.2s forwards;
      white-space: nowrap;
    }

    @keyframes fadeHint {
      0% { opacity: 0; }
      15% { opacity: 1; }
      80% { opacity: 1; }
      100% { opacity: 0; }
    }

    .caption-row-game2 {
      margin-top: 8px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .caption-card-game2 {
      flex: 1;
      border-radius: 14px;
      padding: 8px 10px;
      min-height: 38px;
      display: flex;
      align-items: center;
    }

    .next-scene-btn {
      width: 34px;
      height: 34px;
      border-radius: 999px;
      border: none;
      background: #000;
      color: #fff;
      font-size: 18px;
      cursor: pointer;
      box-shadow: 0 3px 8px rgba(0,0,0,0.35);
    }